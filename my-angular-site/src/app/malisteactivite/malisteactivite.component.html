<div xmlns:date="http://www.w3.org/1999/xhtml" xmlns:date="http://www.w3.org/1999/xhtml"
     xmlns:date="http://www.w3.org/1999/xhtml" xmlns:mask="http://www.w3.org/1999/xhtml">
    <button (click)="openModalAdd(add)">Ajouter</button>
    <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="row-border hover" width="100%">
      <thead>
      <tr>
        <th>Activité</th>
        <th>Date</th>
        <th>Durée</th>
        <th>Endroit</th>
        <th></th>
        <th></th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let activite of activites">
        <td>{{activite.ACTIVITYTYPE}}</td>
        <td>{{activite.STARTTIME  | date:'yyyy-MM-dd HH:mm'}}</td>
        <td>{{activite.ACTIVITYDURATION}}</td>
        <td>{{activite.ACTIVITYLOCATION}}</td>
        <td>
          <button (click)="openModalUpdate(update, activite)">Modifier</button>
        </td>
        <td>
          <button (click)="openModalDelete(delete, activite)">Effacer</button>
        </td>
      </tr>
      </tbody>
    </table>
  </div>

  <ng-template #add>
    <div class="model-header">
      <h4 class="model-title pull-left">Ajouter une activité</h4>
      <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <form>
        <label for="activitytypeupdate">Type activité</label>
        <input type="text" class="form-control" name="activitytypeupdate" id="activitytypeupdate" [(ngModel)]="activite.ACTIVITYTYPE">
        <p class="text-error">{{errorMsg.activitytype}}</p>

        <label for="starttimeupdate">Date début</label>
        <input type="text" class="form-control" name="starttimeupdate" id="starttimeupdate"  [(ngModel)]="activite.STARTTIME" >
        <!--mask ='0000-00-00 Hh:m0:s0'-->
          <p class="text-error">{{errorMsg.starttime}}</p>


          <label for="activitydurationupdate">Durée (minutes)</label>
        <input type="text" class="form-control" name="activitydurationupdate" id="activitydurationupdate" [(ngModel)]="activite.ACTIVITYDURATION">
        <p class="text-error">{{errorMsg.activityduration}}</p>

        <label for="activitylocationupdate">Endroit</label>
        <input type="text" class="form-control" name="activitylocationupdate" id="activitylocationupdate" [(ngModel)]="activite.ACTIVITYLOCATION">
        <p class="text-error">{{errorMsg.activitylocation}}</p>

        <button class="btn btn-primary" (click)="onSave()">Enregistrer</button>
      </form>
    </div>
  </ng-template>
  <ng-template #update>
    <div class="model-header">
      <h4 class="model-title pull-left">Modifier une activité</h4>
      <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <form>
        <label for="txtactivitytype">Type activité</label>
        <input type="text" class="form-control" name="txtactivitytype" id="txtactivitytype" [(ngModel)]="editActivity.ACTIVITYTYPE">
        <p class="text-error">{{errorMsg.activitytype}}</p>

        <label for="starttime">Date début</label>
        <input type="text" class="form-control" name="starttime" id="starttime" [(ngModel)]="editActivity.STARTTIME">
        <p class="text-error">{{errorMsg.starttime}}</p>

        <label for="activityduration">Durée (minutes)</label>
        <input type="text" class="form-control" name="activityduration" id="activityduration" [(ngModel)]="editActivity.ACTIVITYDURATION">
        <p class="text-error">{{errorMsg.activityduration}}</p>

        <label for="activitylocation">Endroit</label>
        <input type="text" class="form-control" name="activitylocation" id="activitylocation" [(ngModel)]="editActivity.ACTIVITYLOCATION">
        <p class="text-error">{{errorMsg.activitylocation}}</p>

        <button class="btn btn-primary" (click)="onUpdate()">Enregistrer</button>
      </form>
    </div>
  </ng-template>

  <ng-template #delete>
    <div class="model-header">
      <h4 class="model-title pull-left">Confirmation</h4>
      <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <p>Voulez-vous effacer cet activité?</p>
      <button class="btn btn-primary" (click)="modalRef.hide()">Non</button>
      <button class="btn btn-danger" (click)="deleteActivity()">Oui</button>
    </div>
  </ng-template>

  <script src="../../assets/vendor//bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js"></script>